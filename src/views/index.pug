extends ./_includes/layout
include ./_includes/mixins

block variables
  - var template = 'home'


block content
  .home
    .home__wrapper
      section.hero
        .hero__text!=prismic.homeHeadingsHTML[0] 
      video.hero__video(autoplay muted loop playsinline preload="auto")
        source(src="/reels/background_reel.mp4" type="video/mp4")
        
      each slice in prismic.home.data.body
        // Tagline Section
        if slice.slice_type === 'tagline_card'
          section.section--large--margin.tagline__card__wrapper
            div.tagline
              h2.tagline__heading= slice.primary.tagline[0].text
              a.button(href='/book/')
                span.button__label= slice.primary.button_label 
                //- span.button__line

        // About Section
        if slice.slice_type === 'about_card'
          section.section--small--margin.about__card__wrapper
            div.about
              div.about__left
                div.image__wrapper
                  - const aboutImage = imgix.imgix(slice.primary.about_image,{ auto:'compress', crop: 'entropy', q:85 }, [400, 665, 1000])
                  img.about__image(
                  
                    src=aboutImage.src
                    srcset=aboutImage.srcset
                    sizes="(max-width: 600px) 650px, (max-width: 1440px) 50vw, 700px"
                    alt=aboutImage.alt
                    loading="lazy"
                  )
                +svg-decorative('mint')
              div.about__right
                h6.about__heading= slice.primary.heading[0].text
                p.h4.about__description!= slice.primary.intro_text.replace(/\n/g, '<br>')
                a.button(href='/about/')
                  span.button__label= slice.primary.button_label 
                  //- span.button__line

        // Our Food Section
        if slice.slice_type === 'our_food'
          section.section.section--small--margin.food__card__wrapper
            div.food
              div.food__left
                h6.food__heading= slice.primary.heading[0].text
                p.h4.food__description!= slice.primary.intro_text.replace(/\n/g, '<br>')
                a.button(href='/menu/')
                  span.button__label= slice.primary.button_label
                  //- span.button__line
              div.food__right
                div.image__wrapper
                  - const sliderImage = imgix.imgix(slice.items[0].slider_image, { auto:'compress', crop: 'entropy', q:85 }, [400, 665, 1000])
                  img.food__image(
                    src=sliderImage.src
                    srcset=sliderImage.srcset
                    sizes="(max-width: 600px) 650px, (max-width: 1440px) 50vw, 700px"
                    alt=sliderImage.alt
                    loading="lazy"
                  )
                +svg-decorative('rosemary')
                div.food__slider 
                  button.food__button 
                    span.food__button__label  next 
                    span.food__button__label prev 
                  div.food__slider__counter 
                    span 1/4

        // Private Events Section
        if slice.slice_type === 'private_events_card'
          section.section.section--small--margin.events__card__wrapper
            - const backgroundImage = imgix.imgix(slice.primary.background_image, {  auto: 'compress',crop: 'top'  }, [400, 600, 800])
            div.events(
              style=`background-image: url('${backgroundImage.src}'); background-size: cover; background-position: top;`
              data-srcset=backgroundImage.srcset
            )

              div.events__content
                h2.events__heading= slice.primary.heading[0].text
                p.events__description= slice.primary.intro_text
                a.events__button(href='/book/')
                  span.button__label.events__button__label= slice.primary.button_label
                
            
              //- img.events__image(
              //-   src=backgroundImage.src
              //-   srcset=backgroundImage.srcset
              //-   sizes="100vw"
              //-   alt=backgroundImage.alt
              //-   loading="lazy"
              //- )
             


    // Reviews Section 
    section.section.section--small--margin.reviews
      div.reviews__wrapper
        div.reviews__quote 
          span &ldquo; 
        div.reviews__slider
          div.reviews__item.active
            h3.reviews__text Great Experience had a blast at Pigalle. The night is still young!
            h6.reviews__name -Jack Daniels
          div.reviews__item
            h3.reviews__text What a great experience we had one night - thanks to all the staff and ofcourse the chefs
            h6.reviews__name -Jane Doe
          div.reviews__item
            h3.reviews__text Best night out with friends, loved it!
            h6.reviews__name -John Smith

      .reviews__dots
        button.reviews__dot.active(data-index=0)
        button.reviews__dot(data-index=1)
        button.reviews__dot(data-index=2)

    // FAQ Section
    each slice in prismic.home.data.body
      if slice.slice_type === 'faq_card'
        section.section.section--small--margin
          .faq
            .faq__container
              h2.faq__heading= slice.primary.heading[0].text
              dl.faq__accordian
                each item in slice.items
                  .faq__item
                    button.faq__question
                      dt.faq__question__text
                        span= item.question
                      svg.faq__icon(
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 22 23"
                        height="23"
                        width="22"
                      )
                        path(
                          fill="black"
                          d="M0.261719 12.4793V10.8271H10.1748V0.914062H11.8269V10.8271H21.74V12.4793H11.8269V22.3923H10.1748V12.4793H0.261719Z"
                        )
                    dd.faq__answer= item.answer
                    .faq__line

      
  
    include ./_includes/marquee

    
      
